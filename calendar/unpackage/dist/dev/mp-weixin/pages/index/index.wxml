<view class="calendar-container data-v-1cf27b2a"><view class="custom-navbar data-v-1cf27b2a"><view class="navbar-left data-v-1cf27b2a"><text class="navbar-title data-v-1cf27b2a">{{a}}</text></view><view class="navbar-right data-v-1cf27b2a"><button class="add-btn data-v-1cf27b2a" bindtap="{{b}}"><text class="btn-text data-v-1cf27b2a">+ 添加</text></button></view></view><view class="calendar-header data-v-1cf27b2a"><view class="view-switcher data-v-1cf27b2a"><button class="{{['view-btn', 'data-v-1cf27b2a', c && 'active']}}" bindtap="{{d}}"> 月 </button><button class="{{['view-btn', 'data-v-1cf27b2a', e && 'active']}}" bindtap="{{f}}"> 周 </button><button class="{{['view-btn', 'data-v-1cf27b2a', g && 'active']}}" bindtap="{{h}}"> 日 </button></view><view class="date-navigation data-v-1cf27b2a"><button class="nav-btn data-v-1cf27b2a" bindtap="{{i}}"> ‹ </button><text class="current-date data-v-1cf27b2a">{{j}}</text><button class="nav-btn data-v-1cf27b2a" bindtap="{{k}}"> › </button><button class="today-btn data-v-1cf27b2a" bindtap="{{l}}"> 今天 </button></view></view><view class="calendar-body data-v-1cf27b2a"><view wx:if="{{m}}" class="month-view data-v-1cf27b2a"><view class="weekdays-header data-v-1cf27b2a"><view wx:for="{{n}}" wx:for-item="day" wx:key="b" class="weekday data-v-1cf27b2a">{{day.a}}</view></view><view class="month-grid data-v-1cf27b2a"><view wx:for="{{o}}" wx:for-item="day" wx:key="d" class="{{['calendar-day', 'data-v-1cf27b2a', day.e && 'not-current-month', day.f && 'today', day.g && 'selected']}}" bindtap="{{day.h}}"><view class="day-content-wrapper data-v-1cf27b2a"><text class="day-number data-v-1cf27b2a">{{day.a}}</text></view><text class="lunar-day data-v-1cf27b2a">{{day.b}}</text><view class="event-dots data-v-1cf27b2a"><view wx:for="{{day.c}}" wx:for-item="event" wx:key="a" class="event-dot data-v-1cf27b2a" style="{{'background-color:' + event.b}}"></view></view></view></view></view><view wx:if="{{p}}" class="week-view data-v-1cf27b2a"><view class="week-grid-container data-v-1cf27b2a"><view class="week-header data-v-1cf27b2a"><view class="time-header-cell data-v-1cf27b2a"></view><view wx:for="{{q}}" wx:for-item="day" wx:key="c" class="day-header-cell data-v-1cf27b2a" bindtap="{{day.d}}"><text class="weekday data-v-1cf27b2a">{{day.a}}</text><text class="date data-v-1cf27b2a">{{day.b}}</text></view></view><view class="week-content data-v-1cf27b2a"><view class="time-column data-v-1cf27b2a" ref="timeColumnRef"><view wx:for="{{r}}" wx:for-item="time" wx:key="b" class="time-slot data-v-1cf27b2a"><text class="time-label data-v-1cf27b2a">{{time.a}}</text></view></view><view class="days-content data-v-1cf27b2a" ref="daysContentRef"><view wx:for="{{s}}" wx:for-item="day" wx:key="b" class="day-column data-v-1cf27b2a"><view class="day-content-column data-v-1cf27b2a"><view wx:for="{{day.a}}" wx:for-item="time" wx:key="b" class="time-content-slot data-v-1cf27b2a" bindtap="{{time.c}}"><view class="events-container data-v-1cf27b2a"><view wx:for="{{time.a}}" wx:for-item="event" wx:key="b" style="{{'background-color:' + event.c}}" class="{{['week-event', 'data-v-1cf27b2a', event.d && 'more-events']}}" catchtap="{{event.e}}"><text class="event-title data-v-1cf27b2a">{{event.a}}</text></view></view></view></view></view></view></view></view></view><view wx:if="{{t}}" class="day-view data-v-1cf27b2a"><view class="day-header data-v-1cf27b2a"><text class="date data-v-1cf27b2a">{{v}}</text><text class="weekday data-v-1cf27b2a">{{w}}</text></view><view class="day-time-grid data-v-1cf27b2a"><view wx:if="{{x}}" class="all-day-header data-v-1cf27b2a"><view class="all-day-label data-v-1cf27b2a">全天/跨天</view><view class="all-day-list data-v-1cf27b2a"><view wx:for="{{y}}" wx:for-item="event" wx:key="d" class="long-event-item data-v-1cf27b2a" style="{{'background-color:' + event.e + ';' + ('border-left:' + event.f)}}" catchtap="{{event.g}}"><text class="long-event-title data-v-1cf27b2a">{{event.a}}</text><text class="long-event-time data-v-1cf27b2a">{{event.b}} 至 {{event.c}}</text></view></view></view><view wx:for="{{z}}" wx:for-item="time" wx:key="d" class="time-row data-v-1cf27b2a"><view class="time-label data-v-1cf27b2a">{{time.a}}</view><view class="time-slot-content data-v-1cf27b2a" bindtap="{{time.c}}"><view class="day-events-container data-v-1cf27b2a"><view wx:for="{{time.b}}" wx:for-item="event" wx:key="d" class="day-event data-v-1cf27b2a" style="{{'background-color:' + event.e}}" catchtap="{{event.f}}"><text class="event-title data-v-1cf27b2a">{{event.a}}</text><text class="event-time data-v-1cf27b2a">{{event.b}} - {{event.c}}</text></view></view></view></view></view></view></view><view wx:if="{{A}}" class="modal-mask data-v-1cf27b2a"><view class="modal-content data-v-1cf27b2a"><view class="modal-header data-v-1cf27b2a"><text class="modal-title data-v-1cf27b2a">{{B}}</text><button class="close-btn data-v-1cf27b2a" bindtap="{{C}}">×</button></view><view class="event-form data-v-1cf27b2a"><view class="form-item data-v-1cf27b2a"><text class="form-label data-v-1cf27b2a">标题</text><input class="form-input data-v-1cf27b2a" placeholder="请输入日程标题" focus="{{D}}" value="{{E}}" bindinput="{{F}}"/></view><view class="time-picker-group data-v-1cf27b2a"><view class="form-item data-v-1cf27b2a"><text class="form-label data-v-1cf27b2a">开始时间</text><view class="datetime-row data-v-1cf27b2a"><picker mode="date" value="{{H}}" bindchange="{{I}}" class="date-picker data-v-1cf27b2a"><view class="form-input picker-display data-v-1cf27b2a">{{G}}</view></picker><picker mode="time" value="{{K}}" bindchange="{{L}}" class="time-picker data-v-1cf27b2a"><view class="form-input picker-display data-v-1cf27b2a">{{J}}</view></picker></view></view><view class="form-item data-v-1cf27b2a"><text class="form-label data-v-1cf27b2a">结束时间</text><view class="datetime-row data-v-1cf27b2a"><picker mode="date" value="{{N}}" bindchange="{{O}}" class="date-picker data-v-1cf27b2a"><view class="form-input picker-display data-v-1cf27b2a">{{M}}</view></picker><picker mode="time" value="{{Q}}" bindchange="{{R}}" class="time-picker data-v-1cf27b2a"><view class="form-input picker-display data-v-1cf27b2a">{{P}}</view></picker></view></view></view><view class="form-item data-v-1cf27b2a"><text class="form-label data-v-1cf27b2a">颜色</text><view class="color-picker data-v-1cf27b2a"><view wx:for="{{S}}" wx:for-item="color" wx:key="a" style="{{'background-color:' + color.b}}" class="{{['color-option', 'data-v-1cf27b2a', color.c && 'selected']}}" bindtap="{{color.d}}"></view></view></view><view class="form-item data-v-1cf27b2a"><text class="form-label data-v-1cf27b2a">备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-1cf27b2a" placeholder="请输入备注信息" value="{{T}}" bindinput="{{U}}"/></block></view></view><view class="modal-actions data-v-1cf27b2a"><button class="btn btn-cancel data-v-1cf27b2a" bindtap="{{V}}">取消</button><button wx:if="{{W}}" class="btn btn-delete data-v-1cf27b2a" bindtap="{{X}}">删除</button><button class="btn btn-confirm data-v-1cf27b2a" bindtap="{{Y}}">确认</button></view></view></view><view wx:if="{{Z}}" class="loading-mask data-v-1cf27b2a"><view class="loading-content data-v-1cf27b2a"><text class="loading-text data-v-1cf27b2a">加载中...</text></view></view></view>